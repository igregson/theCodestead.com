<html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>How To Use NPM As A Build Tool With Hugo - The Codestead</title><meta name="description" content="Hugo is a fast and all-around awesome tool for creating website. NPM has build-tool superpowers that folks seem to just now be realizing. Combining the two makes for a sweet setup. Let&#39;s learn how."><meta name="keywords" content="web-developement code-communities dev-blogs css golang flat-file-themes static-site-generators "><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width" initial-scale="1.0"><link id="defaultStyle" rel="stylesheet" href="/assets/css/main.css"><link href="'http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Serif+Pro:400,600,700'" rel="'stylesheet'" type="'text/css'>"><link sizes="57x57" href="/assets/images/favicons/apple-touch-icon-57x57.png" rel="apple-touch-icon"><link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicons/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicons/apple-touch-icon-72x72.png"><link href="/assets/images/favicons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"><link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicons/apple-touch-icon-114x114.png"><link sizes="120x120" href="/assets/images/favicons/apple-touch-icon-120x120.png" rel="apple-touch-icon"><link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicons/apple-touch-icon-144x144.png"><link href="/assets/images/favicons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="/assets/images/favicons/favicon-32x32.png" sizes="32x32"><link type="image/png" href="/assets/images/favicons/android-chrome-192x192.png" sizes="192x192" rel="icon"><link href="/assets/images/favicons/favicon-96x96.png" sizes="96x96" rel="icon" type="image/png"><link rel="icon" type="image/png" href="/assets/images/favicons/favicon-16x16.png" sizes="16x16"><link rel="manifest" href="/assets/images/favicons/manifest.json"><link rel="shortcut icon" href="/assets/images/favicons/favicon.ico"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-TileImage" content="/assets/images/favicons/mstile-144x144.png"><meta name="msapplication-config" content="/assets/images/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"></head><body id="" class="post-template page page-template-how-to-use-npm-as-a-build-tool-with-hugo   "><div id="top"></div><header class="header--main"><div class="header--inner"><div class="header--title"><h1><a href="/"><svg width="266px" height="30px" viewBox="0 0 266 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <g id="Page-1" fill-rule="evenodd" sketch:type="MSPage">
        <g id="THE-+-CODESTEAD" sketch:type="MSLayerGroup" transform="translate(1.000000, 2.000000)">
            <path d="M4.42,14.04 L0.08,14.04 L0.08,11.84 L11.28,11.84 L11.28,14.04 L6.94,14.04 L6.94,26 L4.42,26 L4.42,14.04 Z M12.92,11.84 L15.44,11.84 L15.44,17.56 L22.06,17.56 L22.06,11.84 L24.58,11.84 L24.58,26 L22.06,26 L22.06,19.72 L15.44,19.72 L15.44,26 L12.92,26 L12.92,11.84 Z M27.7,11.84 L37.08,11.84 L37.08,14.04 L30.22,14.04 L30.22,17.64 L36.72,17.64 L36.72,19.76 L30.22,19.76 L30.22,23.76 L37.44,23.76 L37.44,26 L27.7,26 L27.7,11.84 Z" id="THE" sketch:type="MSShapeGroup"></path>
            <path d="M65.204,6.488 C64.5319966,5.57599544 63.6560054,4.9100021 62.576,4.49 C61.4959946,4.0699979 60.4400052,3.86 59.408,3.86 C58.0879934,3.86 56.8880054,4.0999976 55.808,4.58 C54.7279946,5.0600024 53.7980039,5.7199958 53.018,6.56 C52.2379961,7.4000042 51.6380021,8.38399436 51.218,9.512 C50.7979979,10.6400056 50.588,11.8639934 50.588,13.184 C50.588,14.576007 50.791998,15.8479942 51.2,17 C51.608002,18.1520058 52.1899962,19.1419959 52.946,19.97 C53.7020038,20.7980041 54.6079947,21.4399977 55.664,21.896 C56.7200053,22.3520023 57.9079934,22.58 59.228,22.58 C60.5960068,22.58 61.8079947,22.3100027 62.864,21.77 C63.9200053,21.2299973 64.7719968,20.5160044 65.42,19.628 L69.056,22.184 C67.9279944,23.6000071 66.5480082,24.6979961 64.916,25.478 C63.2839918,26.2580039 61.3760109,26.648 59.192,26.648 C57.19999,26.648 55.3700083,26.3180033 53.702,25.658 C52.0339917,24.9979967 50.600006,24.0740059 49.4,22.886 C48.199994,21.6979941 47.2640034,20.2820082 46.592,18.638 C45.9199966,16.9939918 45.584,15.17601 45.584,13.184 C45.584,11.1439898 45.9379965,9.30200822 46.646,7.658 C47.3540035,6.01399178 48.3259938,4.61600576 49.562,3.464 C50.7980062,2.31199424 52.2559916,1.42400312 53.936,0.8 C55.6160084,0.17599688 57.4399902,-0.136 59.408,-0.136 C60.2240041,-0.136 61.0759956,-0.05800078 61.964,0.098 C62.8520044,0.25400078 63.7039959,0.49399838 64.52,0.818 C65.3360041,1.14200162 66.1039964,1.5439976 66.824,2.024 C67.5440036,2.5040024 68.1559975,3.07999664 68.66,3.752 L65.204,6.488 Z M70.208,13.184 C70.208,11.1439898 70.5499966,9.30200822 71.234,7.658 C71.9180034,6.01399178 72.8659939,4.61600576 74.078,3.464 C75.2900061,2.31199424 76.7299917,1.42400312 78.398,0.8 C80.0660083,0.17599688 81.8839902,-0.136 83.852,-0.136 C85.84401,-0.136 87.6799916,0.17599688 89.36,0.8 C91.0400084,1.42400312 92.4919939,2.31199424 93.716,3.464 C94.9400061,4.61600576 95.8939966,6.01399178 96.578,7.658 C97.2620034,9.30200822 97.604,11.1439898 97.604,13.184 C97.604,15.17601 97.2620034,16.9939918 96.578,18.638 C95.8939966,20.2820082 94.9400061,21.6979941 93.716,22.886 C92.4919939,24.0740059 91.0400084,24.9979967 89.36,25.658 C87.6799916,26.3180033 85.84401,26.648 83.852,26.648 C81.8839902,26.648 80.0660083,26.3180033 78.398,25.658 C76.7299917,24.9979967 75.2900061,24.0740059 74.078,22.886 C72.8659939,21.6979941 71.9180034,20.2820082 71.234,18.638 C70.5499966,16.9939918 70.208,15.17601 70.208,13.184 L70.208,13.184 Z M75.14,13.184 C75.14,14.5520068 75.3499979,15.8059943 75.77,16.946 C76.1900021,18.0860057 76.7899961,19.0759958 77.57,19.916 C78.3500039,20.7560042 79.2739947,21.4099977 80.342,21.878 C81.4100053,22.3460023 82.5919935,22.58 83.888,22.58 C85.1840065,22.58 86.3719946,22.3460023 87.452,21.878 C88.5320054,21.4099977 89.4619961,20.7560042 90.242,19.916 C91.0220039,19.0759958 91.6219979,18.0860057 92.042,16.946 C92.4620021,15.8059943 92.672,14.5520068 92.672,13.184 C92.672,11.8639934 92.4620021,10.6400056 92.042,9.512 C91.6219979,8.38399436 91.0280038,7.4000042 90.26,6.56 C89.4919962,5.7199958 88.5680054,5.0600024 87.488,4.58 C86.4079946,4.0999976 85.2080066,3.86 83.888,3.86 C82.5679934,3.86 81.3740053,4.0999976 80.306,4.58 C79.2379947,5.0600024 78.3200038,5.7199958 77.552,6.56 C76.7839962,7.4000042 76.1900021,8.38399436 75.77,9.512 C75.3499979,10.6400056 75.14,11.8639934 75.14,13.184 L75.14,13.184 Z M101.996,0.512 L111.032,0.512 C112.688008,0.512 114.355992,0.72799784 116.036,1.16 C117.716008,1.59200216 119.227993,2.30599502 120.572,3.302 C121.916007,4.29800498 123.007996,5.6059919 123.848,7.226 C124.688004,8.8460081 125.108,10.855988 125.108,13.256 C125.108,15.4880112 124.688004,17.407992 123.848,19.016 C123.007996,20.624008 121.916007,21.9439948 120.572,22.976 C119.227993,24.0080052 117.716008,24.7699975 116.036,25.262 C114.355992,25.7540025 112.688008,26 111.032,26 L101.996,26 L101.996,0.512 Z M110.312,22.04 C111.488006,22.04 112.663994,21.9020014 113.84,21.626 C115.016006,21.3499986 116.077995,20.8820033 117.026,20.222 C117.974005,19.5619967 118.747997,18.6680056 119.348,17.54 C119.948003,16.4119944 120.248,14.9840086 120.248,13.256 C120.248,11.4319909 119.948003,9.94400576 119.348,8.792 C118.747997,7.63999424 117.974005,6.74000324 117.026,6.092 C116.077995,5.44399676 115.016006,5.0000012 113.84,4.76 C112.663994,4.5199988 111.488006,4.4 110.312,4.4 L106.532,4.4 L106.532,22.04 L110.312,22.04 Z M129.5,0.512 L146.384,0.512 L146.384,4.472 L134.036,4.472 L134.036,10.952 L145.736,10.952 L145.736,14.768 L134.036,14.768 L134.036,21.968 L147.032,21.968 L147.032,26 L129.5,26 L129.5,0.512 Z M164.456,5.84 C163.975998,5.21599688 163.298004,4.6940021 162.422,4.274 C161.545996,3.8539979 160.664004,3.644 159.776,3.644 C159.247997,3.644 158.720003,3.70999934 158.192,3.842 C157.663997,3.97400066 157.184002,4.17799862 156.752,4.454 C156.319998,4.73000138 155.966001,5.08999778 155.69,5.534 C155.413999,5.97800222 155.276,6.51199688 155.276,7.136 C155.276,7.71200288 155.395999,8.20399796 155.636,8.612 C155.876001,9.02000204 156.205998,9.36799856 156.626,9.656 C157.046002,9.94400144 157.555997,10.1959989 158.156,10.412 C158.756003,10.6280011 159.415996,10.8439989 160.136,11.06 C160.952004,11.3240013 161.797996,11.6239983 162.674,11.96 C163.550004,12.2960017 164.353996,12.7399972 165.086,13.292 C165.818004,13.8440028 166.417998,14.5399958 166.886,15.38 C167.354002,16.2200042 167.588,17.2639938 167.588,18.512 C167.588,19.8800068 167.336003,21.0739949 166.832,22.094 C166.327997,23.1140051 165.656004,23.9599966 164.816,24.632 C163.975996,25.3040034 162.992006,25.8079983 161.864,26.144 C160.735994,26.4800017 159.548006,26.648 158.3,26.648 C156.643992,26.648 155.024008,26.3420031 153.44,25.73 C151.855992,25.1179969 150.560005,24.212006 149.552,23.012 L152.792,19.988 C153.416003,20.8520043 154.249995,21.5359975 155.294,22.04 C156.338005,22.5440025 157.363995,22.796 158.372,22.796 C158.900003,22.796 159.439997,22.7300007 159.992,22.598 C160.544003,22.4659993 161.041998,22.2440016 161.486,21.932 C161.930002,21.6199984 162.289999,21.2300023 162.566,20.762 C162.842001,20.2939977 162.98,19.7120035 162.98,19.016 C162.98,18.3439966 162.824002,17.7860022 162.512,17.342 C162.199998,16.8979978 161.780003,16.5140016 161.252,16.19 C160.723997,15.8659984 160.100004,15.5840012 159.38,15.344 C158.659996,15.1039988 157.904004,14.8520013 157.112,14.588 C156.343996,14.3479988 155.576004,14.0600017 154.808,13.724 C154.039996,13.3879983 153.350003,12.9440028 152.738,12.392 C152.125997,11.8399972 151.628002,11.162004 151.244,10.358 C150.859998,9.55399598 150.668,8.552006 150.668,7.352 C150.668,6.05599352 150.937997,4.94000468 151.478,4.004 C152.018003,3.06799532 152.725996,2.29400306 153.602,1.682 C154.478004,1.06999694 155.473994,0.6140015 156.59,0.314 C157.706006,0.0139985 158.839994,-0.136 159.992,-0.136 C161.288006,-0.136 162.601993,0.09199772 163.934,0.548 C165.266007,1.00400228 166.423995,1.68799544 167.408,2.6 L164.456,5.84 Z M176.696,4.472 L168.884,4.472 L168.884,0.512 L189.044,0.512 L189.044,4.472 L181.232,4.472 L181.232,26 L176.696,26 L176.696,4.472 Z M191.996,0.512 L208.88,0.512 L208.88,4.472 L196.532,4.472 L196.532,10.952 L208.232,10.952 L208.232,14.768 L196.532,14.768 L196.532,21.968 L209.528,21.968 L209.528,26 L191.996,26 L191.996,0.512 Z M221.948,0.512 L225.872,0.512 L236.852,26 L231.668,26 L229.292,20.168 L218.24,20.168 L215.936,26 L210.86,26 L221.948,0.512 Z M227.708,16.28 L223.784,5.912 L219.788,16.28 L227.708,16.28 Z M239.372,0.512 L248.408,0.512 C250.064008,0.512 251.731992,0.72799784 253.412,1.16 C255.092008,1.59200216 256.603993,2.30599502 257.948,3.302 C259.292007,4.29800498 260.383996,5.6059919 261.224,7.226 C262.064004,8.8460081 262.484,10.855988 262.484,13.256 C262.484,15.4880112 262.064004,17.407992 261.224,19.016 C260.383996,20.624008 259.292007,21.9439948 257.948,22.976 C256.603993,24.0080052 255.092008,24.7699975 253.412,25.262 C251.731992,25.7540025 250.064008,26 248.408,26 L239.372,26 L239.372,0.512 Z M247.688,22.04 C248.864006,22.04 250.039994,21.9020014 251.216,21.626 C252.392006,21.3499986 253.453995,20.8820033 254.402,20.222 C255.350005,19.5619967 256.123997,18.6680056 256.724,17.54 C257.324003,16.4119944 257.624,14.9840086 257.624,13.256 C257.624,11.4319909 257.324003,9.94400576 256.724,8.792 C256.123997,7.63999424 255.350005,6.74000324 254.402,6.092 C253.453995,5.44399676 252.392006,5.0000012 251.216,4.76 C250.039994,4.5199988 248.864006,4.4 247.688,4.4 L243.908,4.4 L243.908,22.04 L247.688,22.04 Z" id="CODESTEAD" sketch:type="MSShapeGroup"></path>
        </g>
    </g>
</svg>
</a></h1></div><!-- a.icon--twitter href=http://twitter.com/thecodestead
img src="/assets/images/icon-twitter.svg"

--><a class="follow--twitter" href="http://twitter.com/thecodestead">TWITTER</a><nav class="header--nav"><ul><li><a class="nav--active" href="/">Blog</a><a class="" href="/contact">Contact</a></li></ul></nav></div></header><script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body></html>


<div class="divider--top"></div>





<div class="container">

  

  <main class="content" role="main">
    <article class="post ">
    
      <h1 class="post--title">How To Use NPM as a Build Tool with Hugo</h1>
      <p class="post--meta">By Isaac Gregson on 04/04/2015</p>
      <div class="post--post">
        

<p>Hugo&rsquo;s a rather powerful tool for making websites. At its core it&rsquo;s a static
site generator, but it&rsquo;s also capable of quite a bit more.</p>

<p>NPM&rsquo;s a rather powerful package manager. It&rsquo;s also a powerful build
tool.</p>

<p>Let&rsquo;s learn how to setup NPM with Hugo to process our scripts and styles.</p>

<h3 id="requirements:336fcd34c16239fc150cded8eb9c4125">Requirements</h3>

<p>Here are the bare-bones requirements of what I&rsquo;d consider essential for
developing a modern site:</p>

<ul>
<li>CSS pre &amp; post processing</li>
<li>Js concatination/bundling</li>
<li>Minification of CSS &amp; Js</li>
<li>A live-reloading dev environment</li>
<li>Js and CSS source maps (for easy debugging)</li>
</ul>

<h3 id="hugo-provides-the-watcher:336fcd34c16239fc150cded8eb9c4125">Hugo Provides the Watcher</h3>

<p>Out of the box, Hugo includes a super fast and resource friendly <code>watch</code> feature
that &ldquo;just works&rdquo;. There are of course fancier ways to watch a build
environment, but when working with Hugo I&rsquo;m grateful for the simplicity and &ldquo;just-works&rdquo; nature of its built-in watch feature.</p>

<h3 id="hugo-s-directory-structure:336fcd34c16239fc150cded8eb9c4125">Hugo&rsquo;s Directory Structure</h3>

<p>Here&rsquo;s the default Hugo directory structrue:</p>

<pre><code>// Hugo-project-root

content/
layouts/
static/
archetypes/
data/
public/  --- where the site is built to, of no interest now
</code></pre>

<h4 id="hugo-s-theme-directory:336fcd34c16239fc150cded8eb9c4125">Hugo&rsquo;s Theme Directory</h4>

<p>Hugo theme directories mirror the parent project root:</p>

<pre><code>// Hugo-project-foot

content/
layouts/
static/
archetypes/
data/
themes/
	my-hugo-theme/
			content/
			layouts/
			static/
			archetypes/
</code></pre>

<h3 id="the-behavior-of-hugo-s-watcher:336fcd34c16239fc150cded8eb9c4125">The Behavior of Hugo&rsquo;s Watcher</h3>

<p>One really nice thing about Hugo&rsquo;s watcher is that <strong>it only watches for changes inside of the above core Hugo directories.</strong></p>

<h4 id="why-is-this-good:336fcd34c16239fc150cded8eb9c4125">Why is this good?</h4>

<p>This is good because it allows us source-file-organization freedom and gives NPM scripts a way to harness Hugos watcher.</p>

<p>In other words, this allows us to:</p>

<ul>
<li>organize our unprocessed asset files (unprocessed CSS and Js) however we&rsquo;d like (so long as they&rsquo;re outside of Hugo&rsquo;s core directories.</li>
<li>utilize NPM to watch for changes and send the processed versions to Hugo&rsquo;s core directories that will then trigger Hugo&rsquo;s watcher to reload.</li>
</ul>

<blockquote>
<p>Before learning the above behavior of Hugo&rsquo;s watcher I was organizing my unprocessed asset files outside of the root. Learning that I didn&rsquo;t need to do this brought incredible joy - no joke.</p>
</blockquote>

<h3 id="unprocessed-css-and-js-source-organization:336fcd34c16239fc150cded8eb9c4125">Unprocessed CSS and Js Source Organization</h3>

<p>In efforts to keep things simple, I organize all project assets in a project (or theme) root directory named <code>static-src/</code>. Inside of <code>static-src/</code> I like to more-or-less mirror directory structure to the structure inside of Hugo&rsquo;s <code>static/</code> directory. Doing this reduces mental overhead (which is a really good thing).</p>

<p>Let&rsquo;s add it into our directory structure:</p>

<pre><code>// Hugo-project-root

content/
layouts/
archetypes/
data/
static/
static-src/ --- our custom directory
</code></pre>

<p>Now, inside of <code>static-src</code> we can arrange our unprocessed CSS (Sass, Less, Stylus, etc),
Js, and other assets (like images and such) as we please.</p>

<p>Changes to files inside of <code>static-src</code> won&rsquo;t trigger Hugo&rsquo;s watcher, which means we can use NPM scripts to do the magic and send the built assets to the <code>static</code> directory.</p>

<h4 id="understand-how-hugo-handles-the-static-directory:336fcd34c16239fc150cded8eb9c4125">Understand How Hugo Handles the <code>static/</code> Directory</h4>

<p>It&rsquo;s important to understand that everything inside of Hugo&rsquo;s <code>static/</code> directory goes to the root of the built site (or, <code>public/</code>)</p>

<p>Essentially, this:</p>

<pre><code>// Hugo-project-root

static/
	assets/
		main.css
		bundle.js
</code></pre>

<p>Gets built to this:</p>

<pre><code>// Hugo-project-root

public/
	assets/
		main.css
		bundle.js
</code></pre>

<h3 id="static-src-organization:336fcd34c16239fc150cded8eb9c4125"><code>static-src</code> Organization</h3>

<p>You can organize your source files however you or your team prefer. For this demo, let&rsquo;s do it like this:</p>

<pre><code>static-src/
  /assets
    /src-sass
      main.sass -- and the rest of our unprocessed css here
    /src-js
      index.js -- and the rest of our unprocessed js here
</code></pre>

<h3 id="creating-the-npm-build-chain:336fcd34c16239fc150cded8eb9c4125">Creating the NPM Build Chain</h3>

<p>First off, if you&rsquo;re not familiar with the general idea of using NPM as a build tool, I highly recommend giving <a href="http://blog.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/">this excelletn article on the topic</a> a read.</p>

<p>Now, with a general understanding of harnessing NPM build-tool potential, lets wire up our <code>package.json</code> file.</p>

<pre><code>// package.json

&quot;scripts&quot;: {
    &quot;css:build&quot;: &quot;scss-cli --source-map --output-style compressed './static-src/src-assets/sass/**/*.{scss,sass}' --glob -o static/assets/css&quot;,
    &quot;postcss:build&quot;: &quot;autoprefixer -b 'last 2 versions' static/src-assets/css/*.css&quot;,
    &quot;css:watch&quot;: &quot;onchange './static-src/assets/src-sass/' -- npm run css:build&quot;,
    &quot;js:build&quot;: &quot;browserify static-src/assets/js/index.js -o static/assets/js/bundle.js&quot;,
    &quot;js:watch&quot;: &quot;watchify static-src/assets/src-js/index.js -o static/assets/js/bundle.js&quot;,
    &quot;build&quot;: &quot;npm run css:build &amp;&amp; npm run js:build&quot;,
    &quot;prewatch&quot;: &quot;npm run build&quot;,
    &quot;watch&quot;: &quot;parallelshell 'npm run css:watch' 'npm run js:watch'&quot;,
    &quot;start&quot;: &quot;npm run watch&quot;,
},
</code></pre>

<h4 id="a-few-things-here-to-note:336fcd34c16239fc150cded8eb9c4125">A few things here to note:</h4>

<h5 id="package-parallelshell:336fcd34c16239fc150cded8eb9c4125">Package <code>parallelshell</code></h5>

<p><code>paralellshell</code> is <a href="https://github.com/keithamus/parallelshell">a package</a> for doing exactly what it says: running tasks in parallel. It&rsquo;s written and maintained by Keith Cirkel, who wrote an <a href="http://blog.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/">awesome article mentioned above</a> on using NPM as a build tool. If you&rsquo;re familiar with bash commands you may be wondering why to use this package instead of the <code>&amp;</code> operator. If so, <a href="https://github.com/keithamus/parallelshell/issues/5">see Keith&rsquo;s answer</a> to my asking of this question.</p>

<h5 id="package-onchange:336fcd34c16239fc150cded8eb9c4125">Package <code>onchange</code></h5>

<p>Since we still need to watch for changes in our source assets it&rsquo;s necessary to use a specific package. After trying several, I found the <code>onchange</code> <a href="https://github.com/Qard/onchange">package</a> to work best for my particular approach.</p>

<h5 id="npm-pre-and-post-hooks:336fcd34c16239fc150cded8eb9c4125">NPM <code>pre</code> and <code>post</code> hooks</h5>

<p>NPM gives <code>pre</code> and <code>post</code> hooks for each script command you create. These are
really handy. They let us <code>build</code> before we <code>watch</code> and autoprefix our css after
it&rsquo;s been de-pre-processor-ified.</p>

<h5 id="the-state-of-libsass-cli-tools:336fcd34c16239fc150cded8eb9c4125">The State of Libsass CLI Tools</h5>

<p>Libsass is written in C++. This means we have to use a compiled implementation that has a command line interface (cli). From <a href="https://github.com/sass/libsass/wiki/Implementations">the many compiled implementations</a>  only some of them have mature CLIs. Still, I&rsquo;ve yet to find one that I&rsquo;m completely happy with. <a href="https://github.com/sass/node-sass">Node Sass</a> has a very good CLI but I haven&rsquo;t yet gotten it to compile both <code>.scss</code> and <code>.sass</code> Sass versions (as I prefer to use both). I&rsquo;ve also tried working directly with the <a href="https://github.com/sass/sassc">the official Sass C CLI</a> but it&rsquo;s feature set is still rather sparse. The I found <code>scss-cli</code> (<a href="https://github.com/paulcpederson/scss-cli">here on Github</a>) that fills in Node-Sass&rsquo;s gaps (not accepting file globs and ignoring files that start with an underscore). So <code>scss-cli</code> it is for now.</p>

<h3 id="more-is-possible:336fcd34c16239fc150cded8eb9c4125">More is Possible</h3>

<p>It&rsquo;s possible to use NPM&rsquo;s build-tool superpowers for much more than the above. Asset versioning is one. Deployment another. Image spriting and minification yet another.</p>

<h3 id="this-is-how-i-m-currently-building-thecodestead:336fcd34c16239fc150cded8eb9c4125">This is How I&rsquo;m Currently Building TheCodestead</h3>

<p>If you <a href="https://github.com/igregson/theCodestead.com">checkout theCodestead&rsquo;s source</a> you&rsquo;ll see my implementation of something close to the above. One difference is that I&rsquo;m building things with a theme in order to stay module (should/when I want to do an overhaul).</p>

<h3 id="improvements:336fcd34c16239fc150cded8eb9c4125">Improvements?</h3>

<p>See anything above that could be improved, let me know!</p>

      </div>

      <h5>Care to share?</h5>
    </article>
  </main>


</div>

<section class="container post--share">
  <div class="content">
    <a class="share--twitter" href="https://twitter.com/share?text=&amp;url=http://thecodestead.com%2fpost%2fhow-to-use-npm-as-a-build-tool-with-hugo%2f"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span>Twitter</span>
    </a>
    <a class="share--facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://thecodestead.com%2fpost%2fhow-to-use-npm-as-a-build-tool-with-hugo%2f"
    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span>Facebook</span>
    </a>
    <a class="share--googleplus" href="https://plus.google.com/share?url=http://thecodestead.com%2fpost%2fhow-to-use-npm-as-a-build-tool-with-hugo%2f"
    onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span>Google+</span>
    </a>
  </div>
</section>

<section class="container">
  <div class="content comments--wrap">
    
      <div id="disqus_thread"></div>
    
  </div>
</section>

    
      <footer class="siteFooter">
        <div class="siteFooter--text">
          <div class="siteFooter--bottom">
            <p><a href="href=&quot;http://gohugo.io/">Built with Hugo</a>  -  <a href="https://github.com/isaacgregson/theCodestead.com">Lives on Github</a>  -  <a href="https://www.digitalocean.com/?refcode=9f25736ced94">Hosted on Digital Ocean</a></p>

          </div>
        </div>
      </footer>
    


    
    
    <script src="/assets/js/bundle.js"></script>
    
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60678621-1', 'auto');
      ga('send', 'pageview');
    </script>
    
    
    
    <script type="text/javascript">
      var disqus_shortname = "thecodestead";
      
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    

  <script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>

